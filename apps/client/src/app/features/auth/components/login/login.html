<div class="flex flex-col gap-2 p-10 rounded-sm bg-primary">
  <div class="w-full flex flex-row items-center gap-5 mb-6">
    <button (click)="navigateToHome()"
      class="h-12 w-12 text-gray-500 flex justify-center items-center rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
      </svg>
    </button>
    <h1 class="font-work-sans text-2xl">Sign in</h1>
  </div>

  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="flex flex-col gap-4 font-roboto-mono">
    <div class="w-full flex flex-col gap-y-2 min-h-[92px]">
      <label class="text-sm font-medium ">Correo <span class="text-violet-500 text-[10px]">*</span></label>
      <input-form id="email" formControlName="email" placeholder="example@gmail.com" />
      @if (form.controls.email.invalid && form.controls.email.touched ) {
      @if (form.controls.email.errors?.['required'] ) {
      <span class="text-xs text-end pr-5 text-red-300/90">The email field is required.</span>
      }
      @if (form.controls.email.errors?.['strictEmail'] ) {
      <span class="text-xs text-end pr-5 text-red-300/90">Please enter a valid email format.</span>
      }
      }
    </div>
    <div class="w-full flex flex-col gap-y-2 min-h-[92px]">
      <label class="text-sm font-medium ">Password <span class="text-violet-500 text-[10px]">*</span></label>
      <input-form id="password" typeInput="password" formControlName="password" placeholder="password" />
      @if (form.controls.password.invalid && form.controls.password.touched) {
      @if (form.controls.password.errors?.['required']) {
      <span class="text-xs text-end pr-5 text-red-300/90">The password field is required.</span>
      }
      @if (form.controls.password.errors?.['minlength']) {
      <span class="text-xs text-end pr-5 text-red-300/90">Password must be at least 6 characters.</span>
      }
      }
    </div>
    <div class="text-end w-full -mb-7 -mt-2">
      <span class="antialiased text-xs md:text-sm/5 font-light">Not have any account?
        <a routerLink="/auth/sign-up" class="underline text-button-hover">Sign up</a></span>
    </div>
    <div class="my-5 flex items-center gap-4">
      <hr class="w-full border-border" />
      <p class="text-sm text-center">or</p>
      <hr class="w-full border-border" />
    </div>

    <div class="w-full h-full flex flex-col gap-y-3 -mt-5">
      <button (click)="navigateGoogleCallback()" type="button"
      class="w-full h-12 flex flex-row gap-x-13 justify-center items-center  border border-border rounded-sm bg-headline outline-0 cursor-pointer">
      <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" viewBox="0 0 512 512">
        <path fill="#fbbd00"
          d="M120 256c0-25.367 6.989-49.13 19.131-69.477v-86.308H52.823C18.568 144.703 0 198.922 0 256s18.568 111.297 52.823 155.785h86.308v-86.308C126.989 305.13 120 281.367 120 256z"
          data-original="#fbbd00" />
        <path fill="#0f9d58"
          d="m256 392-60 60 60 60c57.079 0 111.297-18.568 155.785-52.823v-86.216h-86.216C305.044 385.147 281.181 392 256 392z"
          data-original="#0f9d58" />
        <path fill="#31aa52"
          d="m139.131 325.477-86.308 86.308a260.085 260.085 0 0 0 22.158 25.235C123.333 485.371 187.62 512 256 512V392c-49.624 0-93.117-26.72-116.869-66.523z"
          data-original="#31aa52" />
        <path fill="#3c79e6"
          d="M512 256a258.24 258.24 0 0 0-4.192-46.377l-2.251-12.299H256v120h121.452a135.385 135.385 0 0 1-51.884 55.638l86.216 86.216a260.085 260.085 0 0 0 25.235-22.158C485.371 388.667 512 324.38 512 256z"
          data-original="#3c79e6" />
        <path fill="#cf2d48"
          d="m352.167 159.833 10.606 10.606 84.853-84.852-10.606-10.606C388.668 26.629 324.381 0 256 0l-60 60 60 60c36.326 0 70.479 14.146 96.167 39.833z"
          data-original="#cf2d48" />
        <path fill="#eb4132"
          d="M256 120V0C187.62 0 123.333 26.629 74.98 74.98a259.849 259.849 0 0 0-22.158 25.235l86.308 86.308C162.883 146.72 206.376 120 256 120z"
          data-original="#eb4132" />
      </svg>
      <span class="text-stroke font-work-sans text-sm md:text-lg">Sign in with Google</span>
    </button>


    <button [class]="{'opacity-70 cursor-not-allowed': isLoading()}" [disabled]="isLoading() || (this.form.touched && this.form.invalid)" type="submit" class="bg-button disabled:opacity-50 disabled:cursor-not-allowed font-work-sans w-full text-sm md:text-lg hover:bg-button-hover cursor-pointer h-12 rounded-md">
      @if(isLoading()){
        <span class="animate-pulse">Cargando...</span> 
      }@else{
        Login
      }
    </button>
    </div>
  </form>
</div>
@let images = imageCollections();
@let isEmpty = images.length === 0;

<div
  [class.bg-bg-card]="isEmpty"
  class="relative grid grid-rows-2 gap-0.5 rounded overflow-hidden grid-cols-2 aspect-video sm:aspect-4/3 "
>
  @switch(images.length){
    @case(0){
    <div class="absolute inset-0 z-20 bg-transparent group-hover/collection-card:bg-black/10 transition-colors flex items-center justify-center">
      <svg
              xmlns="http://www.w3.org/2000/svg"
              width="64"
              height="64"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="text-gray-400 dark:text-gray-500 w-1/3 h-1/3"
            >
              <path d="M4 22h16a2 2 0 0 0 2-2V7.95a2 2 0 0 0-2-2H9.83a2 2 0 0 1-1.41-.58L5.59 2.59A2 2 0 0 0 4.17 2H4a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2z"></path>
              <line x1="2" y1="12" x2="22" y2="12"></line>
            </svg>
            <p class="text-gray-400 dark:text-gray-500 mt-2 text-sm">Colección vacía</p>
        </div>
    }

    @case(1){
      @for(collection of images; track $index){
        <div class="relative flex w-full h-full row-span-2 col-span-2">
          <img
            [src]="collection"
            alt="Imagen de colección"
            class="object-cover w-full h-full"
          >
        </div>
      }
    }

    @case(2){
      @for(collection of images; track $index){
        <div class="relative flex w-full h-full row-span-2">
          <img
            [src]="collection"
            alt="Imagen de colección"
            class="object-cover w-full h-full"
          >
        </div>
      }
    }

    @case(3){
      @for(collection of images; track $index){
        @if($index === 0){
          <div class="relative flex w-full h-full row-span-2">
            <img
              [src]="collection"
              alt="Imagen de colección"
              class="object-cover w-full h-full"
            >
          </div>
        }@else{
          <div class="relative flex w-full h-full row-span-1">
            <img
              [src]="collection"
              alt="Imagen de colección miniatura"
              class="object-cover w-full h-full"
            >
          </div>
        }
      }
    }
  }
</div>

<div>
  <div class="flex justify-between items-center gap-2">
    <div class="flex flex-col">
      <div class="flex gap-1 min-w-0 items-center">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
          viewBox="0 0 256 256">
          <path
            d="M240,102c0,70-103.79,126.66-108.21,129a8,8,0,0,1-7.58,0C119.79,228.66,16,172,16,102A62.07,62.07,0,0,1,78,40c20.65,0,38.73,8.88,50,23.89C139.27,48.88,157.35,40,178,40A62.07,62.07,0,0,1,240,102Z">
          </path>
        </svg>
        <h4 class="text-large truncate">My favorites</h4>
      </div>
    </div>
    <div
      class="inline-flex items-center h-5 rounded-full px-2 dark:bg-muted text-muted-foreground text-detail font-normal leading-5 bg-faint">
      6</div>
  </div>
</div>
